<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>PyDy Visualizer</title>

    <!--CSS -->

    <link type="text/css" rel="stylesheet" href="css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="css/slider.css">
    <link type="text/css" rel="stylesheet" href="css/main.css">

    <link rel="stylesheet" href="css/codemirror/blackboard.css">
    <link rel="stylesheet" href="css/codemirror/codemirror.css">
    

    <!-- External Javascripts -->
    
    <!-- This one is for browser testing, not for IPython usage -->
    <script type="text/javascript" src="js/external/jquery/jquery.min.js"></script>    

    <script type="text/javascript" src="js/external/jquery/jquery-ui.js"></script>
    <script type="text/javascript" src="js/external/three/three.min.js"></script>
    <script type="text/javascript" src="js/external/three/TrackballControls.js"></script>

    <script type="text/javascript" src="js/external/bootstrap/bootstrap.min.js"></script>

    
    <script type="text/javascript" src="js/external/utils/modernizr-2.0.6.js"></script>
    <script type="text/javascript" src="js/external/utils/bootstrap-slider.js"></script>
    
    <script type="text/javascript" src="js/external/utils/prototype.js"></script>
    <script type="text/javascript" src="js/external/codemirror/codemirror.min.js" ></script>
    


    <!-- DyViz Javascripts -->
    <script type="text/javascript" src="js/dyviz/dv.js"></script>
    <script type="text/javascript" src="js/dyviz/scene.js"></script>
    <script type="text/javascript" src="js/dyviz/parser.js"></script>
    <script type="text/javascript" src="js/dyviz/param_editor.js"></script>
    <script type="text/javascript" src="js/dyviz/logUtil.js"></script>
    <script type="text/javascript" src="js/dyviz/materials.js"></script>



    

</head>

<body>
<div id="wrapper">
    <div id="container">
        <div id="sidebar-right" >
          <div id="json-inp">
            <input type="text" class="form-control" id="json-input">
            <input type="button" class="btn btn-primary" value="Load Simulation" id="simulation-load">
            <input type="button" class="btn btn-success" value="Save/Edit" id="save-json">
          </div>
          <hr />
          <div id="edit-objects">
            <div class="btn-group">
                <button type="button" class="btn btn-success dropdown-toggle" data-toggle="dropdown">
                     Edit Objects<span class="caret"></span>
                </button>

                <ul id="objectDropdown" class="dropdown-menu" role="menu">
                <!-- Objects added Dynamically here, via javascript! -->
                </ul>
            </div>
            <hr />
            <div id="objectDialog" class="well">
                
            </div>



          </div>
        </div>
        <div id="canvas" >
            <div id="control-button-group" class="asdbtn-group">
                <button id="playAnimation" class="btn btn-default btn-success btn-lg disabled"><span class="glyphicon glyphicon-play"></span> Play Animation</button>

                <button id="stopAnimation" style="display:none;" class="btn btn-default btn-danger btn-lg active"><span class="glyphicon glyphicon-stop" ></span>Stop </button>
                
                <!-- <a href="#" class="btn btn-danger btn-small" id="resetControls"><i class="icon-white icon-play"></i>Reset Controls</a> -->
            </div>
            <span id="currentTime" class="glyphicon glyphicon-time" ></span><span id="time" ></span>
            <div id="slider-wrapper">
                <div id="timeSlider" class="slider" style="float:right; width:28em;padding-left: 2em;"></div> 
            </div>    
            <hr />
            <div id="renderer"><!-- THREE Scene rendered here --></div>
        

        </div>

        <!--- CodeMirror Editor HTML -->
        <div id="model_edit" title="Model Editor"><!--
          <textarea id="code" name="code"></textarea>'
          <div id="editorToolbar" class="ui-widget-header ui-corner-all">
            <button class="editorButton" id="editor_undo" value="undo">undo</button>
            <button class="editorButton" id="editor_redo">redo</button>
            <button class="editorButton" id="editor_update_model">Apply</button>
            <div id="download_model_container" class="FloatRight FullHeight">'
              <div class="verticalDivider FloatLeft"></div>'
              <div id="download_model_link" class="ui-button editorButtonDownload" >(Click Apply<br/>to Save)</div>'
            </div>
          </div> -->
        </div>

        <!-- This script should probably go on some run_script.js file -->
        <script type="text/javascript">
            console.log("Herer")
            DynamicsVisualizer.init();
            DynamicsVisualizer.activateUIControls();
            DynamicsVisualizer.Scene.create();

            //  Activate TrackBall Controls..
            function activateTrackballControls(){ 
                DynamicsVisualizer.primaryControls.update()
                DynamicsVisualizer.Scene.webgl_renderer.render(DynamicsVisualizer.Scene._scene, DynamicsVisualizer.Scene._cameras.init_camera);
                requestAnimationFrame(activateTrackballControls); 
            };
            activateTrackballControls();

            // Trial...
            function a() {
               jQuery('html, body').animate({
                   scrollTop: jQuery("#wrapper").offset().top
                    }, 2000);
            };
            a();

            // for bootstrap proto panga..
            (function() {
                var isBootstrapEvent = false;
                if (window.jQuery) {
                    var all = jQuery('*');
                    jQuery.each(['hide.bs.dropdown', 
                        'hide.bs.collapse', 
                        'hide.bs.modal', 
                        'hide.bs.tooltip'], function(index, eventName) {
                        all.on(eventName, function( event ) {
                            isBootstrapEvent = true;
                        });
                    });
                }
                var originalHide = Element.hide;
                Element.addMethods({
                    hide: function(element) {
                        if(isBootstrapEvent) {
                            isBootstrapEvent = false;
                            return element;
                        }
                        return originalHide(element);
                    }
                });
            })();

            
        </script> 
    </div>

    
</div>  
</body>
</html>





